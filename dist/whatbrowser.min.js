/**
 * whatbrowser.ru, version 0.1.0
 *
 * whatbrowser.ru is freely distributable under the terms of MIT-style license
 * For details, see http://whatbrowser.ru
 */
(function(a,b,c,d,e){"use strict";var f=a.navigator;function g(){if(f.cookieEnabled){return true}document.cookie="cookietest=1";var a=document.cookie.indexOf("cookietest=")!=-1;document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT";return a}function h(){try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(a){return true}}catch(b){if(f.mimeTypes&&f.mimeTypes["application/x-shockwave-flash"]!=undefined&&f.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return true}}return false}function i(a,b,c,d){a[b]=d?d[b]:c()}function j(c,d){var e=c;i(c,"browser_size",function(){return{height:b(a).height(),width:b(a).width()}},d);e.browser_size.toString=function(){return e.browser_size.width+" x "+e.browser_size.height+" px"}}function k(a,b){var c=a;i(a,"cookies",function(){return g()},b)}function l(a,b){var c=a;i(a,"flash",function(){return{enabled:h(),version:d&&d.getFlashPlayerVersion()}},b);c.flash.toString=function(){if(c.flash.enabled&&c.flash.version){return c.flash.version.major+"."+c.flash.version.minor+"."+c.flash.version.release}else{return c.flash.enabled?"да":"нет"}}}function m(a,b){var c=a;i(a,"java",function(){return{enabled:f.javaEnabled&&f.javaEnabled(),version:e&&e.getJREs().shift()}},b);c.java.toString=function(){return c.java.enabled?c.java.version||"да":"нет"}}function n(a,b){var c=a;i(a,"language",function(){return f.language||f.userLanguage},b)}function o(a,b){var c=a;i(a,"online",function(){return f.onLine},b)}function p(b,c){var d=b;i(b,"screen",function(){return a.screen&&{color_depth:a.screen.colorDepth,height:a.screen.height,width:a.screen.width}},c);d.screen.toString=function(){return a.screen?d.screen.width+" x "+d.screen.height+" px, "+d.screen.color_depth+" bit":""}}function q(a,b){var d=a;if(!c){d.ua={ua:f.userAgent};return}i(a,"ua",function(){return(new c).getResult()},b);d.ua.toString=function(){return d.ua.ua};d.ua.browser.toString=function(){var a=d.ua.browser,b=a.name||"";b+=a.major&&" "+a.major||"";b+=a.version&&" ("+a.version+")"||"";return b};d.ua.device.toString=function(){var a=d.ua.device,b=a.vendor||"";b+=a.model&&" "+a.model||"";b+=a.type&&" ("+a.type+")"||"";return b};d.ua.engine.toString=function(){var a=d.ua.engine,b=a.name||"";b+=a.version&&" "+a.version||"";return b};d.ua.os.toString=function(){var a=d.ua.os,b=a.name||"";b+=a.version&&" "+a.version||"";return b}}function r(a,b){var c=a;c.geo=b;if(c.geo&&c.geo.position){c.geo.position.toString=function(){var a=c.geo.position;return a.latitude?a.latitude+", "+a.longitude:""}}if(c.geo&&c.geo.address){c.geo.address.toString=function(){var a=c.geo.address,b=a.country||"";b+=a.region&&", "+a.region||"";b+=a.city&&", "+a.city||"";return b}}}function s(a){var c=a,d=b.Deferred();b.getJSON("//freegeoip.net/json/?callback=?",{timeout:500}).done(function(b){r(a,{ip:b.ip,position:{latitude:b.latitude,longitude:b.longitude},address:{country:b.country_name,region:b.region_name,city:b.city}});d.resolve(a)}).fail(function(){d.resolve(a)});return d}function t(a){var b=this;j(b,a);k(b,a);l(b,a);m(b,a);n(b,a);o(b,a);p(b,a);q(b,a);if(a){r(b,a.geo)}}t.create=function(a){var c=new t,d=b.Deferred();a=a||{};if(a.geo){s(c).always(function(a){d.resolve(a)})}else{d.resolve(c)}return d};a.WhatBrowser=t;return t})(window,window.jQuery,window.UAParser,window.swfobject,window.deployJava);